[
  {
    "type": "function",
    "function": {
      "name": "grep",
      "description": "在文件中搜索指定文本模式，类似于 Unix grep 命令。支持递归搜索、不区分大小写匹配、结果限制等选项。出于安全考虑，搜索范围限制在沙箱主目录。",
      "parameters": {
        "type": "object",
        "properties": {
          "pattern": {
            "type": "string",
            "description": "要搜索的文本模式，可以是普通字符串或正则表达式（当 use_regex 为 true 时）"
          },
          "path": {
            "type": "string",
            "description": "要搜索的根目录路径，默认为当前沙箱主目录。支持相对路径。",
            "default": "."
          },
          "recursive": {
            "type": "boolean",
            "description": "是否递归搜索子目录，默认为 true",
            "default": true
          },
          "case_sensitive": {
            "type": "boolean",
            "description": "搜索是否区分大小写，默认为 true",
            "default": true
          },
          "use_regex": {
            "type": "boolean",
            "description": "是否将模式解释为正则表达式，默认为 false（字面字符串匹配）",
            "default": false
          },
          "max_results": {
            "type": "integer",
            "description": "返回的最大结果数，0 表示返回所有结果，默认为 10",
            "default": 10
          },
          "include_pattern": {
            "type": "string",
            "description": "包含文件的模式（例如 '*.py'），默认为空（所有文件）"
          },
          "exclude_pattern": {
            "type": "string",
            "description": "排除文件的模式（例如 '*.log'），默认为空"
          },
          "show_line_numbers": {
            "type": "boolean",
            "description": "是否显示行号，默认为 true",
            "default": true
          },
          "context_lines": {
            "type": "integer",
            "description": "显示匹配项周围的上下文行数，默认为 0（仅显示匹配行）",
            "default": 0
          }
        },
        "required": ["pattern"]
      }
    }
  }
]
