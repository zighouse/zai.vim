[
  {
    "type": "function",
    "function": {
      "name": "web_search",
      "description": "执行网络搜索（使用SearXNG元搜索引擎，支持多个搜索引擎）",
      "parameters": {
        "type": "object",
        "properties": {
          "request": {
            "type": "string",
            "description": "搜索关键词或查询内容"
          },
          "engine": {
            "type": "string",
            "description": "指定搜索引擎（留空则自动选择）。可选值包括: 'bing', 'duckduckgo', 'google', 'brave', 'startpage', 'yandex', 'baidu', 'qwant' 等（取决于SearXNG配置）",
            "default": ""
          },
          "category": {
            "type": "string",
            "description": "搜索类别。可选值: 'general' (常规), 'images' (图片), 'videos' (视频), 'news' (新闻), 'map' (地图), 'music' (音乐), 'it' (IT), 'science' (科学) 等（取决于SearXNG配置）",
            "default": "general",
            "enum": ["general", "images", "videos", "news", "map", "music", "it", "science", ""]
          },
          "time_range": {
            "type": "string",
            "description": "时间范围过滤",
            "default": "",
            "enum": ["day", "week", "month", "year", ""]
          },
          "max_results": {
            "type": "integer",
            "description": "最大返回结果数量",
            "default": 10
          },
          "return_format": {
            "type": "string",
            "description": "返回格式: 'markdown' (默认), 'links' (仅链接), 'json' (原始JSON), 'html' (HTML格式)",
            "default": "markdown",
            "enum": ["markdown", "links", "json", "html"]
          }
        },
        "required": ["request"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_get_content",
      "description": "获取指定URL的网页内容，支持分页功能以处理超大网页",
      "parameters": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "要获取内容的URL地址"
          },
          "return_format": {
            "type": "string",
            "description": "返回内容的格式, 'clean_text' 返回纯文本, 'markdown' 返回markdown，'html' 返回原始HTML，'links' 返回解析后的链接列表",
            "enum": ["clean_text", "markdown", "html", "links"],
            "default": "clean_text"
          },
          "max_tokens": {
            "type": "integer",
            "description": "最大返回token数（None=不限制）。当内容超过此数量时，会根据paginate参数决定分页或截断"
          },
          "paginate": {
            "type": "boolean",
            "description": "启用分页功能。当内容超过2页大小时自动缓存并分页显示",
            "default": false
          },
          "page_size": {
            "type": "integer",
            "description": "分页时每页的token数（默认2000）",
            "default": 2000
          }
        },
        "required": ["url"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_download_file",
      "description": "从URL下载文件（用于llm不便直接消化但于用户有益的内容，如图片、压缩包等）",
      "parameters": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "要下载文件的URL地址"
          },
          "output_path": {
            "type": "string",
            "description": "完整的输出文件路径（包含文件名），如果未指定则自动生成文件名"
          },
          "output_dir": {
            "type": "string",
            "description": "输出目录，如果未指定则使用默认下载目录"
          },
          "filename": {
            "type": "string",
            "description": "文件名，如果未指定则从URL中提取或使用时间戳"
          },
          "timeout": {
            "type": "integer",
            "description": "下载超时时间（秒），默认60秒",
            "default": 60
          }
        },
        "required": ["url"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_next_page",
      "description": "显示缓存网页内容的下一页",
      "parameters": {
        "type": "object",
        "properties": {
          "cache_id": {
            "type": "string",
            "description": "缓存标识符（从分页响应中获取）"
          }
        },
        "required": ["cache_id"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_prev_page",
      "description": "显示缓存网页内容的上一页",
      "parameters": {
        "type": "object",
        "properties": {
          "cache_id": {
            "type": "string",
            "description": "缓存标识符（从分页响应中获取）"
          }
        },
        "required": ["cache_id"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_goto_page",
      "description": "跳转到缓存网页内容的指定页",
      "parameters": {
        "type": "object",
        "properties": {
          "cache_id": {
            "type": "string",
            "description": "缓存标识符（从分页响应中获取）"
          },
          "page_num": {
            "type": "integer",
            "description": "页码（从1开始）"
          }
        },
        "required": ["cache_id", "page_num"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_show_all",
      "description": "显示缓存网页的全部内容（可能很大）",
      "parameters": {
        "type": "object",
        "properties": {
          "cache_id": {
            "type": "string",
            "description": "缓存标识符（从分页响应中获取）"
          }
        },
        "required": ["cache_id"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_page_info",
      "description": "显示缓存网页内容的信息",
      "parameters": {
        "type": "object",
        "properties": {
          "cache_id": {
            "type": "string",
            "description": "缓存标识符（从分页响应中获取）"
          }
        },
        "required": ["cache_id"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_cleanup_cache",
      "description": "清理过期的网页缓存文件",
      "parameters": {
        "type": "object",
        "properties": {
          "max_age_hours": {
            "type": "integer",
            "description": "缓存保留时间（小时），默认24小时",
            "default": 24
          }
        },
        "required": []
      }
    }
  }
]
